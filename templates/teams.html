<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Carreras</title>
    <style>
        nav {
            height: 50px;
            text-align: center;
            background: dimgray;
            color: black;
            font-size: 20px;
            padding-left: 50px;
            padding-right: 50px;
            font-family: Arial,serif;
            border-bottom: chartreuse 1px solid;
        }
        body {
            background: dimgrey;
            color: honeydew;
            font-family: Roboto,sans-serif;
        }
        nav a {
            text-decoration: none;
            color: honeydew;
            padding: 20px;
        }
        nav a:hover {
            color: chartreuse;
        }
        #nav-container {
            width: 60%;
        }
        #main-container {
            width: 60%;
            margin: auto;
        }
        table {
            margin: auto;
        }

    </style>
</head>
<body>
<!-- TODO: Si insertas un piloto y a continuacion lo actualizas, desaparece D: -->
    <nav>
        <div id="nav-container">
            <!-- <a href="/"><img src="./static/logo.png" id="header-logo" alt="logo"/></a> -->
            <a href="/">Pilotos</a>
            <a href="/calendar">Calendario</a>
            <a href="/teams">Equipos</a>
        </div>
    </nav>
    <div id="main-container">
      <h1>Equipos y pilotos</h1>
      <div id="main-table-container">
        {% if teams.count() > 0 %}
        <table id="teams-table">
          <tr>
            <th>Equipo</th>
            <th>Pilotos</th>
            <th></th>
            <th></th>
          </tr>
          {% for t in teams %}
          <tr>
            <td>{{ t.name }}</td>
            {% if t.driver1 and t.driver2 %}
            <td>{{ t.driver1 }}, {{ t.driver2 }}</td>
            {% elif t.driver1 %}
            <td>t.driver1</td>
            {% elif t.driver2 %}
            <td>t.driver2</td>
            {% else %}
            <td>No tiene pilotos</td>
            {% endif %}
            <td><button class="update-button" onclick="update({{ t.name }})" type="button">Actualizar</button></td>
            <td><button class="remove-button" onclick="remove({{ t.name }})" type="button">Eliminar</button></td>
          </tr>
          {% endfor %}
        </table>
        {% else %}
        <p id="no-teams-banner">No se han encontrado equipos</p>
        {% endif %}
      </div>
      {% if freelance.count() > 0 %}
      <div id="freelance-drivers-container">
          <h3>Pilotos sin equipo</h3>
        <ol id="freelance-list">
            {% for d in drivers %}
            <li id="{{ d.id }}">{{ d.name }}</li>
            {% endfor %}
        </ol>
      </div>
      {% else %}
      <p id="no-freelance-banner">No hay pilotos sin equipo</p>
      {% endif %}
    </div>

</body>
</html>